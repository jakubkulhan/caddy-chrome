<pending-task-component></pending-task-component>

<script type="module">
    import { PendingTaskEvent } from "./pending_task.js";

    class PendingTaskComponent extends HTMLElement {
        connectedCallback() {
            this.innerText = "Waiting...";
            const promise = new Promise(resolve => setTimeout(() => {
                this.innerText = "Hello " + "after a timeout!";
                resolve();
            }, 1000));
            this.dispatchEvent(new PendingTaskEvent(promise));
        }
    }
    customElements.define("pending-task-component", PendingTaskComponent);
</script>
